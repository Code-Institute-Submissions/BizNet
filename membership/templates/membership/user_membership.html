{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'membership/css/membership.css' %}">
{% endblock %}

{% block scripts %}
<script src="{% static 'membership/js/membership.js' %}" defer></script>
{% endblock scripts %}

{% block page_header %}

<!--  Tab Links -->
<div class="tab-container">
    <ul class="nav nav-tab justify-content-evenly" id="profileTab" role="tablist">
        <li class="nav-item" role="presentation">
            <form action="{% url 'profile_details' %}">
                <input type="submit" value="MY PROFILE" class="nav-link gig-tab active" id="my_profile_tab"
                    data-bs-toggle="tab" data-bs-target="#my_profile" type="tab-button" role="tab" />
            </form>
        </li>
        <li class="nav-item" role="presentation">
            <form action="{% url 'user_subscription' %}">
                <input type="submit" value="SUBSCRIPTION" class="nav-link gig-tab" id="user_subscription_tab"
                    data-bs-toggle="tab" data-bs-target="#user_subscription" type="tab-button" role="tab" />
            </form>
        </li>
        <li class="nav-item" role="presentation">
            <form action="{% url 'user_membership' %}">
                <input type="submit" value="MEMBERSHIP" class="nav-link gig-tab" id="user_membership_tab"
                    data-bs-toggle="tab" data-bs-target="#user_membership" type="tab-button" role="tab" />
            </form>
        </li>
        <li class="nav-item" role="presentation">
            <form action="{% url 'password_change' %}">
                <input type="submit" value="CHANGE PASSWORD" class="nav-link gig-tab" id="password_change_tab"
                    data-bs-toggle="tab" data-bs-target="#password_change" type="tab-button" role="tab" />
            </form>
        </li>
        <li class="nav-item" role="presentation">
            <form action="{% url 'payment_histrory' %}">
                <input type="submit" value="PAYMENT HISTORY" class="nav-link gig-tab" id="payment_histrory_tab"
                    data-bs-toggle="tab" data-bs-target="#payment_histrory" type="tab-button" role="tab" />
            </form>
        </li>
        <li class="nav-item" role="presentation">
            <form action="{% url 'membership_profile' %}">
                <input type="submit" value="MEMBERSHIP PROFILE" class="nav-link gig-tab" id="membership_profile_tab"
                    data-bs-toggle="tab" data-bs-target="#membership_profile" type="tab-button" role="tab" />
            </form>
        </li>

    </ul>
    <div class="tab-content">
        <div class="tab-pane show active" id="my_profile" role="tabpanel" aria-labelledby="my_profile_tab"></div>

        <div class="tab-pane" id="user_subscription" role="tabpanel" aria-labelledby="user_subscription_tab"></div>

        <div class="tab-pane" id="user_membership" role="tabpanel" aria-labelledby="user_membership_tab"></div>

        <div class="tab-pane" id="password_change" role="tabpanel" aria-labelledby="password_change_tab"></div>

        <div class="tab-pane" id="payment_histrory" role="tabpanel" aria-labelledby="payment_histrory_tab"></div>


        <div class="tab-pane" id="membership_profile" role="tabpanel" aria-labelledby="membership_profile_tab"></div>

    </div>
</div>

{% endblock %}

{% block content %}



<div class="container-fluid">
    <br>
    <div class="row">

        <div class="col-sm-10 col-sx-12 mx-auto">
            <div class="card">
                <div class=" card-body">
                    <br>
                    <br>
                    <h3 class="h3 mb-3 text-center">My Subscription</h3>

                    <section>
                        <div class="product">
                            <!--<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                width="14px" height="16px" viewBox="0 0 14 16" version="1.1">
                                <defs />
                                <g id="Flow" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                    <g id="0-Default" transform="translate(-121.000000, -40.000000)" fill="#E184DF">
                                        <path
                                            d="M127,50 L126,50 C123.238576,50 121,47.7614237 121,45 C121,42.2385763 123.238576,40 126,40 L135,40 L135,56 L133,56 L133,42 L129,42 L129,56 L127,56 L127,50 Z M127,48 L127,42 L126,42 C124.343146,42 123,43.3431458 123,45 C123,46.6568542 124.343146,48 126,48 L127,48 Z"
                                            id="Pilcrow" />
                                    </g>
                                </g>-->
                            </svg>
                            <div class="description">
                                <h3>Your Plan</h3>
                                <p>{{ selected_membership }}</p>
                                <p>â‚¬ {{ selected_membership.monthly_price }}/month</p>
                                <h5>$10.00 / month</h5>
                            </div>
                        </div>
                        <form action="/create-checkout-session" method="POST">
                            <input type="hidden" name="lookup_key"
                                value="// TODO: {{PRICE_LOOKUP_KEY}} replace with `price.lookup_key`" />
                            <button id="checkout-and-portal-button" type="submit">Checkout</button>
                        </form>
                    </section>

                </div>
                <br>
                <br>
            </div>
            <br>
            <br>
        </div>
    </div>
</div>
{% endblock %}