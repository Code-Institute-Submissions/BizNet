{% extends "base.html" %}
{% load static %}
{% load i18n %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'profileusers/css/profile.css' %}">
{% endblock %}

{% block scripts %}
<script src="{% static 'profileusers/js/my_profile.js' %}" defer></script>
{% endblock scripts %}


{% block page_header %}
<!-- Profile tab links -->
<div class="tab-container">
    <ul class="nav nav-tab justify-content-evenly" id="profileTab" role="tablist">
        <li class="nav-item" role="presentation">
            <form action="{% url 'profile_details' %}">
                <input type="submit" value="MY PROFILE" class="nav-link gig-tab active" id="my_profile_tab"
                    data-bs-toggle="tab" data-bs-target="#my_profile" type="tab-button" role="tab" />
            </form>
        </li>
        <li class="nav-item" role="presentation">
            <form action="{% url 'profile_edit' %}">
                <input type="submit" value="EDIT PROFILE" class="nav-link gig-tab" id="edit_profile_tab"
                    data-bs-toggle="tab" data-bs-target="#edit_profile" type="tab-button" role="tab" />
            </form>
        </li>
        <li class="nav-item" role="presentation">
            <form action="{% url 'password_change' %}">
                <input type="submit" value="CHANGE PASSWORD" class="nav-link gig-tab" id="password_change_tab"
                    data-bs-toggle="tab" data-bs-target="#password_change" type="tab-button" role="tab" />
            </form>
        </li>
        <li class="nav-item" role="presentation">
            <form action="{% url 'membership_profile' %}">
                <input type="submit" value="MEMBERSHIP" class="nav-link gig-tab" id="membership_profile_tab"
                    data-bs-toggle="tab" data-bs-target="#membership_profile" type="tab-button" role="tab" />
            </form>
        </li>

    </ul>
    <div class="tab-content">
        <div class="tab-pane show active" id="my_profile" role="tabpanel" aria-labelledby="my_profile_tab"></div>

        <div class="tab-pane" id="edit_profile" role="tabpanel" aria-labelledby="edit_profile_tab"></div>

        <div class="tab-pane" id="password_change" role="tabpanel" aria-labelledby="password_change_tab"></div>

        <div class="tab-pane" id="membership_profile" role="tabpanel" aria-labelledby="membership_profile_tab"></div>

    </div>
</div>
{% endblock %}


{% block content %}
{% if user.is_authenticated %}

<style>
    /*


    p {
        font-size: 14px;
        margin-bottom: none;
    }

    .btn {
        color: white;
        border-color: rgba(96, 185, 236, 0.2);
        background-color:#1f53fc;
        font-size: medium !important;
        border-radius: 1px;
        font-weight: bold;
        box-shadow: 0 4px 18px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
        -webkit-box-shadow: 0 4px 18px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
        -moz-box-shadow: 0 4px 18px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
    }

    .btn:hover,
    .btn:active,
    .btn:focus {
        color: white;
        border-color: rgba(250, 251, 252, 0.1);
        background-color: #2570fd;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.2);
    }

    .close-button,
    .x-close {
        background-color: white;
        border-color: white;
        font-size: large;
        box-shadow: none;
    }

    .card-info {
        margin: 3%;
        font-size: small;
        align-items: center;
    }

    .match-card {
        background-color: rgba(252, 253, 253, 0.2);
    }
    */
</style>

<div class="container-fluid" id="justify-center">
    <br>

    <div class="row">
        <div class="col-sm-10 col-sx-12 mx-auto">

            <span class="hello-msg">Welcome {{request.user.first_name}}
                {{request.user.last_name}}.
            </span>
            <br>
            <br>



            <!-- Profileuser card -->
            <div class="card" id="justify-center" style="max-width: 740px;">
                <div class="card-body">

                    <!-- Profileuser information -->
                    <div class="col-12 justify-content-center">

                        <!-- Row One -->
                        <div class="row justify-content-center">
                            {% csrf_token %}
                            <!-- Profileuser pic -->
                            <div class="match-card col-sm-5 col-12" style="max-width: 400px;">

                                <div class="card-info text-center">

                                    {% if profileusers.picture %}

                                    <img src="{{ profile.picture.url }}"
                                        class="img-fluid justify-content-center profile-img rounded-start"
                                        alt="{{ profile.username}}">

                                    {% else %}

                                    <img src="{{ profile.picture.url }}"
                                        class="img-fluid justify-content-center profile-img rounded-start"
                                        alt="{{ user.profile.image.url }}">

                                    {% endif %}
                                </div>

                            </div>

                            <!-- Profileuser fact colum-->
                            <div class="match-card col-sm-7 col-12" style="max-width: 480px;">
                                <div class="justify-content-center card-body match-card">
                                    <div class="card-info justify-content-center">
                                        <h6 class="card-title g-0"><strong>{{user.first_name}}
                                                {{user.last_name}}</strong></h6>
                                        <p class="card-text"><strong>Title:</strong> &nbsp; {{profile.title}}
                                        </p>
                                        <p class="card-text"><strong>Company:</strong> &nbsp;
                                            {{profile.company_name}}</p>
                                        <p class="card-text "><strong>Email:</strong> &nbsp; {{user.email}}</p>
                                        <p class="card-text"><strong>City:</strong> &nbsp; {{profile.city}}</p>
                                        <p class="card-text"><strong>Country:</strong> &nbsp;
                                            {{profile.country}}</p>
                                        <p class="card-text"><strong>Business:</strong> &nbsp;
                                            {{profile.industry}}</p>
                                        <p class="card-text"><strong>Profession:</strong> &nbsp;
                                            {{profile.profession}}</p>
                                        <p class="card-text"><strong>Employment Status:</strong> &nbsp
                                            {{profile.employment}}</p>
                                        <p class="card-text"><strong>Purpose:</strong> &nbsp {{profile.status}}
                                        </p>
                                        <br>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Row Two -->
                        <div class="row justify-content-center">

                            <!-- Matching Preferences -->
                            <div class="match-card col-sm-5 col-12" style="max-width: 400px;">
                                <div class="justify-content-center card-body match-card">
                                    <div class="card-info">
                                        <h6><strong>Matching Preferences:</strong></h6>
                                        <p class="card-title match-card"><strong>Industry:</strong> &nbsp;
                                            {{profile.business}}</p>
                                        <p class="card-text match-card"><strong>Location:</strong> &nbsp;
                                            {{profile.locations}}</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Profileuser bio -->
                            <div class="match-card col-sm-7 col-12" style="max-width: 480px;">
                                <div class="justify-content-center card-body match-card">
                                    <div class="card-info">
                                        <h6 class="card-title"><strong>Presentation:</strong></h6>
                                        <p class="card-title">{{profile.description}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br>

                        <!-- Edit Buttons -->
                        <div class="row text-center">
                            <form class="col" action="{% url 'profile_edit' %}">
                                <button type="submit" class="btn"
                                    style="border-radius: 1px; background-color: #1f53fc; color: rgb(246,246,247); font-family: Verdana; font-size: medium">EDIT</button>
                            </form>
                        </div>
                        <br>
                    </div>

                </div>
            </div>

        </div>
    </div>
    <br>
    <br>
    <br>
    <br>
</div>

{% endif %}

{% endblock %}

<!-- Contact suggestions -->
<div class="col">
    <div>
        <!-- Button trigger modal -->
        <!--
                        <button type="button" class="btn btn-primary" id="to-follow-btn" data-bs-toggle="modal"
                        data-bs-target="#myProfileModal">
                        Contact Suggestions
                    </button>
-->

        <!-- Modal -->
        <div class="modal fade" id="myProfileModal" tabindex="-1" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="myModalLabel"> Follow: </h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">

                        </button>
                    </div>
                    <div class="modal-body" id="to-follow-modal">
                        <div class="text-center" id="spinner-box">
                            <div class="spinner-border" role="status"></div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>